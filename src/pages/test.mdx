---
layout: "@/layouts/MarkdownLayout.astro"
title: Custom Markdown Feature Test
---

# Test

[Home](/)

This is currently a proof-of-concept page using Markdown combined with Typst and a custom rehype plugin for linguistic interlinear glossing. Below is an example of a block expression with Typst.

$$
lambda x.lambda y.y(x)
$$

This is some more text. Oh right. $"typst"$ also works inline, so I can write facts like $e^(i tau) = 0$. Below is an example of an interlinear gloss. I use a special `gloss` directive block.

:::gloss
| Toki Pona
jan li pana e moku tawa sina
= person :sc[ind] give :sc[acc] food :sc[dat] you
| 'A person gives you food.'
:::

The syntax for an interlinear gloss is as follows:

```md
:::gloss
| Chinese
你 写 书
/ ní xiě **shū**
= :sc[2sg] write **book**
| 'You write a **book**.'
:::
```

:::gloss
| Chinese
你 写 书
/ ní xiě **shū**
= :sc[2sg] write **book**
| 'You write a **book**.'
:::

I'm using `remark-directive` to delineate the block. It's very useful. I also have a separate plugin that takes the `sc` directive blocks and applies smallcaps to them.

I'm also using a custom vendored version of [`@myriaddreamin/rehype-typst`](https://www.npmjs.com/package/@myriaddreamin/rehype-typst) that allows me to make `typst` code blocks in addition to `math` ones. These _don't_ wrap the Typst code in `$` blocks and let me write Typst prose. This is great since I can use other Typst things I want, like [Arborly](https://typst.app/universe/package/arborly/).

Hello from Markdown (to HTML).

```typst
Hello from Typst (to SVG).
```

```typst
#tree[XP
  [(Specifier)]
  [X'
    [(Adjunct)]
    [X'
      [X'
        [X]
        [(Complement)]
      ]
      [(Adjunct)]
    ]
  ]
]
```

Look at that tree!
